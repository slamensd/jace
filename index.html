<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Life Game</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            position: relative;
        }
        .cell {
            width: 20px;
            height: 20px;
            background-color: red;
            border-radius: 50%;
            position: absolute;
        }
    </style>
</head>
<body>

<script>
    let cells = [];
    let cellIndex = 0;

    function createCell(x, y) {
        const cell = document.createElement('div');
        cell.className = 'cell';
        cell.style.left = `${x - 10}px`;
        cell.style.top = `${y - 10}px`;
        cell.dataset.index = cellIndex++;
        cells.push(cell);
        document.body.appendChild(cell);
    }

    function multiplyCells() {
        let newCells = [];
        for (const cell of cells) {
            const rect = cell.getBoundingClientRect();
            const offsets = [
                {x: -30, y: -30},
                {x: 30, y: -30},
                {x: -30, y: 30},
                {x: 30, y: 30},
            ];
            for (const offset of offsets) {
                const newX = rect.left + window.scrollX + offset.x;
                const newY = rect.top + window.scrollY + offset.y;
                newCells.push({x: newX, y: newY});
            }
        }
        newCells.forEach(pos => createCell(pos.x, pos.y));
    }

    window.addEventListener('click', function (e) {
        if (cells.length === 0) {
            createCell(e.clientX, e.clientY);
        } else {
            multiplyCells();
        }
    });

    window.addEventListener('touchstart', function (e) {
        e.preventDefault();
        const touch = e.touches[0];
        if (cells.length === 0) {
            createCell(touch.clientX, touch.clientY);
        } else {
            multiplyCells();
        }
    });
</script>

</body>
</html>
